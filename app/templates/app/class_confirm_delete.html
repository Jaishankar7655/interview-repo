<!-- app/templates/app/class_confirm_delete.html -->
{% extends 'app/base.html' %}

{% block content %}
<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
    <h1 class="text-2xl font-bold mb-6 text-red-600">Delete Class</h1>
    
    <div class="mb-6 p-4 bg-red-50 rounded-lg">
        <p class="text-red-800">Are you sure you want to delete this class?</p>
        <p class="font-semibold mt-2">{{ class.name }} ({{ class.code }})</p>
        <p class="text-gray-600">Teacher: {{ class.teacher.first_name }} {{ class.teacher.last_name }}</p>
        <p class="text-gray-600">Students: {{ class.students.count }}</p>
    </div>
    
    {% if class.students.count > 0 %}
    <div class="mb-6 p-4 bg-yellow-50 rounded-lg">
        <p class="text-yellow-800 font-semibold">Warning!</p>
        <p class="text-yellow-700">This class has {{ class.students.count }} students enrolled. Deleting this class will remove all enrollment records.</p>
    </div>
    {% endif %}
    
    <form method="post" class="space-y-4">
        {% csrf_token %}
        
        <div class="flex flex-col sm:flex-row gap-4">
            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition flex-1">
                Yes, Delete
            </button>
            <a href="{% url 'class_list' %}" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded text-center transition flex-1">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}